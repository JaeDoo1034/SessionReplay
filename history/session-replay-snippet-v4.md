# session-replay-snippet v4

## 요약

v4는 "클릭한 시늉" 문제를 해결해 실제 상호작용이 실행되도록 개선한 버전입니다. 탭 전환처럼 이벤트 핸들러 기반 UI가 재생 중 실제로 동작하도록 했습니다.

## v3 대비 주요 개선

- 실제 클릭 이벤트 시퀀스 재생 추가
  - `pointerdown` -> `mousedown` -> `pointerup` -> `mouseup` -> `click`
  - 포인터 좌표를 재생 문맥으로 매핑해 이벤트에 반영
- 입력 이벤트 실제 디스패치
  - `input`/`change` 값 반영 후 이벤트를 `dispatchEvent`로 발생
- 포커스 처리 강화
  - 클릭 대상에 `focus({ preventScroll: true })` 시도
- 앵커 기본 이동 방지
  - replay 중 `a[href]` 클릭은 기본 네비게이션을 일시 차단해 재생 흐름 유지
- 버전 식별자 업데이트
  - `4.0.0-snippet`

## 기대 효과

- 탭/아코디언/커스텀 버튼 등 이벤트 리스너 중심 UI에서 동작 재현도 상승
- 단순 시각 효과가 아닌 실제 DOM 행동(콘텐츠 교체, 상태 변경) 재생

## 남은 한계

- 프레임워크 내부 상태/비동기 데이터 패치가 많은 앱은 100% 동일 재현이 어려울 수 있음
- 사이트별 캡처 차단 정책(CSP, X-Frame-Options, 동적 난독화)에 따라 동작 편차 가능
